<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-10-28 Wed 16:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Emacs Configure</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="keke" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">My Emacs Configure</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge179d59">1. Straight.el</a></li>
<li><a href="#org9ba9347">2. Is A?</a></li>
<li><a href="#orgf305379">3. Is graphic?</a></li>
<li><a href="#orgd06ec5b">4. UI</a>
<ul>
<li><a href="#org27a3d76">4.1. Main UI</a></li>
<li><a href="#orge5285df">4.2. Font</a></li>
<li><a href="#orgef2cf14">4.3. Theme &amp; Modeline</a></li>
</ul>
</li>
<li><a href="#org35c4918">5. Editor</a></li>
<li><a href="#org121bf8f">6. Package</a>
<ul>
<li><a href="#orgafd2a7a">6.1. FlyCheck</a></li>
<li><a href="#orgabebf47">6.2. Company</a></li>
<li><a href="#org9245ac6">6.3. Lsp</a></li>
<li><a href="#org39ebb2b">6.4. Ivy</a></li>
<li><a href="#org7e84343">6.5. Which-key</a></li>
<li><a href="#org829b01f">6.6. Emacs-rime</a></li>
<li><a href="#orge5dee8d">6.7. Ace-window</a></li>
<li><a href="#org1918046">6.8. Exec-path-from-shell</a></li>
<li><a href="#org9c0ee0c">6.9. Xah-run-current-file</a></li>
<li><a href="#org94525d2">6.10. Telega</a></li>
<li><a href="#orgf6c0758">6.11. Projectile</a></li>
</ul>
</li>
<li><a href="#org53a4910">7. Languages</a>
<ul>
<li><a href="#org02017cf">7.1. Rust</a></li>
<li><a href="#org42ae019">7.2. Go</a></li>
</ul>
</li>
<li><a href="#orgd21dbd4">8. Exwm</a></li>
</ul>
</div>
</div>

<div class="figure">
<p><img src="https://raw.githubusercontent.com/keke-cute/.emacs.d/master/2020-10-11_17-31.png" alt="2020-10-11_17-31.png" />
</p>
</div>
<ul class="org-ul">
<li>this is my curreent emacs config, old archive see other branch</li>
<li>git clone me, and run:</li>
</ul>
<div class="org-src-container">
<pre class="src src-shell">git submodule update --init --recursive
</pre>
</div>
<div id="outline-container-orge179d59" class="outline-2">
<h2 id="orge179d59"><span class="section-number-2">1</span> Straight.el</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar bootstrap-version)
(let ((bootstrap-file
       (expand-file-name "straight/repos/straight.el/bootstrap.el" user-emacs-directory))
      (bootstrap-version 5))
  (unless (file-exists-p bootstrap-file)
    (with-current-buffer
	(url-retrieve-synchronously
	 "https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"
	 'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))
</pre>
</div>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'use-package)
(straight-use-package 'magit)
(straight-use-package 'vterm)
(straight-use-package 'terraform-mode)
(straight-use-package 'posframe)
</pre>
</div>
</div>
</div>
<div id="outline-container-org9ba9347" class="outline-2">
<h2 id="org9ba9347"><span class="section-number-2">2</span> Is A?</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defconst *is-a-mac* (eq system-type 'darwin))
(defconst *is-a-linux* (eq system-type 'gnu/linux))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf305379" class="outline-2">
<h2 id="orgf305379"><span class="section-number-2">3</span> Is graphic?</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun graphic-p ()
  (display-graphic-p))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd06ec5b" class="outline-2">
<h2 id="orgd06ec5b"><span class="section-number-2">4</span> UI</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org27a3d76" class="outline-3">
<h3 id="org27a3d76"><span class="section-number-3">4.1</span> Main UI</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (graphic-p)
  ;;  transparent frame
  (add-to-list 'default-frame-alist'(ns-transparent-titlebar . t))
  (add-to-list 'default-frame-alist'(ns-appearance . dark))
  (add-to-list 'default-frame-alist'(alpha . (80 . 75)))
  (menu-bar-mode -1)
  (scroll-bar-mode -1)
  (global-linum-mode 1)
  (tool-bar-mode -1)
  (global-hl-line-mode t)
  (setq inhibit-splash-screen t)
  (setq org-startup-with-inline-images t)
  ;; default frame size
  ;;      (setq initial-frame-alist
  ;;	    '(
  ;;	      (width . 106)
  ;;	      (height . 56)
  ;;	      )))
  )
;;(display-time-mode 1)
;; 指定模式禁用行号
(add-hook 'vterm-mode-hook 'my-inhibit-global-linum-mode)
(add-hook 'eshell-mode-hook 'my-inhibit-global-linum-mode)
(add-hook 'telega-root-mode-hook 'my-inhibit-global-linum-mode)
(add-hook 'telega-chat-mode-hook 'my-inhibit-global-linum-mode)
(defun my-inhibit-global-linum-mode ()
  "Counter-act `global-linum-mode'."
  (add-hook 'after-change-major-mode-hook
	    (lambda () (linum-mode 0))
	    :append :local))
;;🌈括号
(straight-use-package 'rainbow-delimiters)
(use-package rainbow-delimiters 
  :config
  ;; 设置每一级括号的颜色
  (set-face-foreground 'rainbow-delimiters-depth-1-face "orange red") 
  (set-face-foreground 'rainbow-delimiters-depth-2-face "gold") 
  (set-face-foreground 'rainbow-delimiters-depth-3-face "yellow") 
  (set-face-foreground 'rainbow-delimiters-depth-4-face "spring green") 
  (set-face-foreground 'rainbow-delimiters-depth-5-face "cyan") 
  (set-face-foreground 'rainbow-delimiters-depth-6-face "magenta") 
  (set-face-foreground 'rainbow-delimiters-depth-7-face "goldenrod") 
  (set-face-foreground 'rainbow-delimiters-depth-8-face "IndianRed1") 
  (set-face-foreground 'rainbow-delimiters-depth-9-face "ivory1") 
  (set-face-bold 'rainbow-delimiters-depth-1-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-2-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-3-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-4-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-5-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-6-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-7-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-8-face "t") 
  (set-face-bold 'rainbow-delimiters-depth-9-face "t") 
  (add-hook 'prog-mode-hook #'rainbow-delimiters-mode))

;; 
(straight-use-package 'highlight-indent-guides)
(use-package highlight-indent-guides
  :hook ((prog-mode web-mode) . highlight-indent-guides-mode)
  :config
  (setq highlight-indent-guides-method (if window-system 'character 'nil))
  (setq highlight-indent-guides-responsive 'stack))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge5285df" class="outline-3">
<h3 id="orge5285df"><span class="section-number-3">4.2</span> Font</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;;字体设置
(when (graphic-p)
  (let ((emacs-font-size 13)
	(emacs-font-name "Rec Mono Linear"))
    (set-frame-font (format "%s-%s" (eval emacs-font-name) (eval emacs-font-size)) nil t)
    (set-fontset-font (frame-parameter nil 'font) 'unicode (eval emacs-font-name)))
  (with-eval-after-load 'org
    (defun org-buffer-face-mode-variable ()
      (interactive)
      (make-face 'width-font-face)
      (set-face-attribute 'width-font-face nil :font "Sarasa Mono SC 15")
      (setq buffer-face-mode-face 'width-font-face)
      (buffer-face-mode))
    (add-hook 'org-mode-hook 'org-buffer-face-mode-variable)))

(if (version&lt; "27.0" emacs-version)
    (set-fontset-font
     "fontset-default" 'unicode "Apple Color Emoji" nil 'prepend)
  (set-fontset-font
   t 'symbol (font-spec :family "Apple Color Emoji") nil 'prepend))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgef2cf14" class="outline-3">
<h3 id="orgef2cf14"><span class="section-number-3">4.3</span> Theme &amp; Modeline</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; theme
(use-package lazycat-theme
  :load-path "~/.emacs.d/site-lisp/lazycat-theme")
(straight-use-package 'modus-operandi-theme)
(straight-use-package 'modus-vivendi-theme)
(straight-use-package 'circadian)
(use-package
  circadian
  :config
  ;; 经纬度，可以在https://www.latlong.net/获取，默认是广州的
  (setq calendar-latitude 35.388779
	calendar-longitude 116.084290)
  ;; sunrise 白天用的主题 sunset 晚上用的主题
  (setq circadian-themes '((:sunrise . lazycat-light)
			   (:sunset . lazycat-dark)))
  (circadian-setup))

 (use-package awesome-tray
   :load-path "~/.emacs.d/site-lisp/awesome-tray"
   :init
   (require 'awesome-tray)
   (awesome-tray-mode 1))



;;(require 'subr-x)
;;(straight-use-package 'minions)
;;(defun mode-line-with-padding (text)
;;  "Return TEXT with padding on the left.
;;The padding pushes TEXT to the right edge of the mode-line."
;;  (let* ((font (face-attribute 'mode-line :font))
;;	 (glyph-list (font-get-glyphs font 0 (length text) text))
;;	 (len (cl-reduce (lambda (len glyph)
;;			   (+ len (aref glyph 4)))
;;			 glyph-list
;;			 :initial-value 0))
;;	 (padding (propertize
;;		   "-" 'display
;;		   `(space :align-to (- (+ right right-margin) (,len))))))
;;    (concat padding text)))
;;
;;(setq-default mode-line-format
;;	      (let* ((spaces
;;		      (propertize " " 'display '(space :width 1.5)))
;;		     (fringe (propertize
;;			      " " 'display '(space :width fringe)))
;;		     (percentage
;;		      '(format
;;			"%d%%" (/ (* (window-end) 100.0) (point-max)))))
;;		`(,fringe
;;		  (:eval (if (window-dedicated-p)
;;			     (concat "🔒" spaces) ""))
;;		  "%[%b%]"
;;		  ,spaces
;;		  ,(if (featurep 'minions)
;;		       'minions-mode-line-modes
;;		     'mode-line-modes)
;;		  ,spaces
;;		  (:eval
;;		   (cond (inhibit-read-only
;;			  ,(if (display-graphic-p) "– ω –" "-w-"))
;;			 ((buffer-modified-p)
;;			  ,(if (display-graphic-p) "Φ A Φ" "OAO"))
;;			 (t
;;			  ,(if (display-graphic-p) "Φ ω Φ" "OwO"))))
;;		  ,spaces
;;		  mode-line-misc-info
;;		  ,(if (display-graphic-p)
;;		       `(:eval (concat (mode-line-with-padding
;;					,percentage) "%%"))
;;		     `(:eval (concat ,spaces ,percentage "%%"))))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org35c4918" class="outline-2">
<h2 id="org35c4918"><span class="section-number-2">5</span> Editor</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; 自动加载外部修改过的文件
(global-auto-revert-mode 1)
;; 关闭自己生产的保存文件
(setq auto-save-default nil)
;; 关闭自己生产的备份文件
(setq make-backup-files nil)
;; 选中某个区域继续编辑可以替换掉该区域
(delete-selection-mode 1)
;; 设置h 文件默认为c++文件
(add-to-list 'auto-mode-alist '("\\.h\\'" . c++-mode))
;; orgmode
(add-hook 'org-mode-hook (lambda () (setq truncate-lines nil)))
;; without lock files
(setq create-lockfiles nil)
;; y-or-n
(fset 'yes-or-no-p 'y-or-n-p)
</pre>
</div>
</div>
</div>
<div id="outline-container-org121bf8f" class="outline-2">
<h2 id="org121bf8f"><span class="section-number-2">6</span> Package</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgafd2a7a" class="outline-3">
<h3 id="orgafd2a7a"><span class="section-number-3">6.1</span> FlyCheck</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'flycheck)
(straight-use-package 'flycheck-posframe)

(use-package flycheck
  :init (global-flycheck-mode))

(use-package flycheck-posframe
  :after flycheck
  :config (add-hook 'flycheck-mode-hook #'flycheck-posframe-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgabebf47" class="outline-3">
<h3 id="orgabebf47"><span class="section-number-3">6.2</span> Company</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'company)
(straight-use-package 'company-box)
(use-package company 
  :defer 2 
  :hook (after-init . global-company-mode) 
  :init (setq company-tooltip-align-annotations t company-idle-delay 0.1 company-echo-delay 0
	      company-minimum-prefix-length 2 company-require-match nil company-dabbrev-ignore-case
	      nil company-dabbrev-downcase nil company-show-numbers t) 
  :config 
  :bind (:map company-active-map
	      ("M-n" . nil) 
	      ("M-p" . nil) 
	      ("C-n" . #'company-select-next) 
	      ("C-p" . #'company-select-previous)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org9245ac6" class="outline-3">
<h3 id="org9245ac6"><span class="section-number-3">6.3</span> Lsp</h3>
<div class="outline-text-3" id="text-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'lsp-mode)
(straight-use-package 'lsp-ui)
(use-package lsp-mode
  :commands lsp
  :custom
  (lsp-idle-delay 1200)
  (lsp-auto-guess-root nil)
  (lsp-file-watch-threshold 2000)
  (read-process-output-max (* 1024 1024))
  (lsp-eldoc-hook nil)
  (lsp-prefer-flymake nil)
  :bind (:map lsp-mode-map
	      ("C-c C-f" . lsp-format-buffer)
	      ("M-RET" . lsp-ui-sideline-apply-code-actions))
  :config
  (setq lsp-prefer-capf t))

(use-package lsp-ui :commands lsp-ui-mode)

</pre>
</div>
</div>
</div>
<div id="outline-container-org39ebb2b" class="outline-3">
<h3 id="org39ebb2b"><span class="section-number-3">6.4</span> Ivy</h3>
<div class="outline-text-3" id="text-6-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'ivy)
(straight-use-package 'swiper)
(straight-use-package 'counsel)
(straight-use-package 'ivy-posframe)

(ivy-mode 1)
(setq ivy-use-virtual-buffers t)
(setq enable-recursive-minibuffers t)
;; enable this if you want `swiper' to use it
;; (setq search-default-mode #'char-fold-to-regexp)
(global-set-key "\C-s" 'swiper)
(global-set-key (kbd "C-c C-r") 'ivy-resume)
(global-set-key (kbd "&lt;f6&gt;") 'ivy-resume)
(global-set-key (kbd "M-x") 'counsel-M-x)
(global-set-key (kbd "C-x C-f") 'counsel-find-file)
(global-set-key (kbd "&lt;f1&gt; f") 'counsel-describe-function)
(global-set-key (kbd "&lt;f1&gt; v") 'counsel-describe-variable)
(global-set-key (kbd "&lt;f1&gt; o") 'counsel-describe-symbol)
(global-set-key (kbd "&lt;f1&gt; l") 'counsel-find-library)
(global-set-key (kbd "&lt;f2&gt; i") 'counsel-info-lookup-symbol)
(global-set-key (kbd "&lt;f2&gt; u") 'counsel-unicode-char)
(global-set-key (kbd "C-c g") 'counsel-git)
(global-set-key (kbd "C-c j") 'counsel-git-grep)
(global-set-key (kbd "C-c k") 'counsel-ag)
(global-set-key (kbd "C-x l") 'counsel-locate)
(global-set-key (kbd "C-S-o") 'counsel-rhythmbox)
(define-key minibuffer-local-map (kbd "C-r") 'counsel-minibuffer-history)
;; (use-package ivy-posframe
;;   :custom
;;   (ivy-posframe-font "Rec Mono Linear-16")
;;   (ivy-posframe-parameters
;;    '((left-fringe . 5)
;;      (right-fringe . 5)))
;;   (ivy-posframe-border-width 2)
;;   (ivy-posframe-display-functions-alist '((t . ivy-posframe-display-at-frame-center)))
;;   :custom-face
;;   (ivy-posframe ((t (:background "#000000"))))
;;   (ivy-posframe-border ((t (:background "#6272a4"))))
;;   (ivy-posframe-cursor ((t (:background "#61bfff"))))
;;   :config
;;   (ivy-posframe-mode 1))
</pre>
</div>
</div>
</div>
<div id="outline-container-org7e84343" class="outline-3">
<h3 id="org7e84343"><span class="section-number-3">6.5</span> Which-key</h3>
<div class="outline-text-3" id="text-6-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'which-key)
(use-package which-key
  :config
  (which-key-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-org829b01f" class="outline-3">
<h3 id="org829b01f"><span class="section-number-3">6.6</span> Emacs-rime</h3>
<div class="outline-text-3" id="text-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (graphic-p)
  (when *is-a-linux*
    (use-package rime
      :straight (rime :type git
		      :host github
		      :repo "DogLooksGood/emacs-rime"
		      :files ("*.el" "Makefile" "lib.c"))
      :custom
      (default-input-method "rime")
      (rime-show-candidate 'posframe))))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge5dee8d" class="outline-3">
<h3 id="orge5dee8d"><span class="section-number-3">6.7</span> Ace-window</h3>
<div class="outline-text-3" id="text-6-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'ace-window)
(global-set-key (kbd "M-o") 'ace-window)
(setq aw-dispatch-always t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org1918046" class="outline-3">
<h3 id="org1918046"><span class="section-number-3">6.8</span> Exec-path-from-shell</h3>
<div class="outline-text-3" id="text-6-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'exec-path-from-shell)
(exec-path-from-shell-initialize)
</pre>
</div>
</div>
</div>
<div id="outline-container-org9c0ee0c" class="outline-3">
<h3 id="org9c0ee0c"><span class="section-number-3">6.9</span> Xah-run-current-file</h3>
<div class="outline-text-3" id="text-6-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar xah-run-current-file-before-hook nil "Hook for `xah-run-current-file'. Before the file is run.")

(defvar xah-run-current-file-after-hook nil "Hook for `xah-run-current-file'. After the file is run.")

(defun xah-run-current-go-file ()
  "Run or build current golang file.

To build, call `universal-argument' first.

Version 2018-10-12"
  (interactive)
  (when (not (buffer-file-name)) (save-buffer))
  (when (buffer-modified-p) (save-buffer))
  (let* (
	 ($outputb "*xah-run output*")
	 (resize-mini-windows nil)
	 ($fname (buffer-file-name))
	 ($fSuffix (file-name-extension $fname))
	 ($progName "go")
	 $cmdStr)
    (setq $cmdStr (concat $progName " \""   $fname "\" &amp;"))
    (if current-prefix-arg
	(progn
	  (setq $cmdStr (format "%s build \"%s\" " $progName $fname)))
      (progn
	(setq $cmdStr (format "%s run \"%s\" &amp;" $progName $fname))))
    (progn
      (message "running %s" $fname)
      (message "%s" $cmdStr)
      (shell-command $cmdStr $outputb )
      ;;
      )))

(defun xah-run-current-file ()
  "Execute the current file.
For example, if the current buffer is x.py, then it'll call 「python x.py」 in a shell.
Output is printed to buffer “*xah-run output*”.

The file can be Emacs Lisp, PHP, Perl, Python, Ruby, JavaScript, TypeScript, golang, Bash, Ocaml, Visual Basic, TeX, Java, Clojure.
File suffix is used to determine what program to run.

If the file is modified or not saved, save it automatically before run.

URL `http://ergoemacs.org/emacs/elisp_run_current_file.html'
Version 2020-09-06"
  (interactive)
  (let (
	($outBuffer "*xah-run output*")
	(resize-mini-windows nil)
	($suffixMap
	 ;; (‹extension› . ‹shell program name›)
	 `(
	   ("php" . "php")
	   ("pl" . "perl")
	   ("py" . "python")
	   ("py3" . ,(if (string-equal system-type "windows-nt") "c:/Python32/python.exe" "python3"))
	   ("rb" . "ruby")
	   ("go" . "go run")
	   ("hs" . "runhaskell")
	   ;; ("js" . "node")
	   ("js" . "deno run")
	   ("mjs" . "node --experimental-modules ")
	   ("ts" . "tsc") ; TypeScript
	   ("tsx" . "tsc")
	   ("sh" . "bash")
	   ("clj" . "java -cp ~/apps/clojure-1.6.0/clojure-1.6.0.jar clojure.main")
	   ("rkt" . "racket")
	   ("ml" . "ocaml")
	   ("vbs" . "cscript")
	   ("tex" . "pdflatex")
	   ("latex" . "pdflatex")
	   ("java" . "javac")
	   ;; ("pov" . "/usr/local/bin/povray +R2 +A0.1 +J1.2 +Am2 +Q9 +H480 +W640")
	   ))
	$fname
	$fSuffix
	$progName
	$cmdStr)
    (when (not (buffer-file-name)) (save-buffer))
    (when (buffer-modified-p) (save-buffer))
    (setq $fname (buffer-file-name))
    (setq $fSuffix (file-name-extension $fname))
    (setq $progName (cdr (assoc $fSuffix $suffixMap)))
    (setq $cmdStr (concat $progName " \""   $fname "\" &amp;"))
    (run-hooks 'xah-run-current-file-before-hook)
    (cond
     ((string-equal $fSuffix "el")
      (load $fname))
     ((or (string-equal $fSuffix "ts") (string-equal $fSuffix "tsx"))
      (if (fboundp 'xah-ts-compile-file)
	  (progn
	    (xah-ts-compile-file current-prefix-arg))
	(if $progName
	    (progn
	      (message "Running")
	      (shell-command $cmdStr $outBuffer ))
	  (error "No recognized program file suffix for this file."))))
     ((string-equal $fSuffix "go")
      (xah-run-current-go-file))
     ((string-equal $fSuffix "java")
      (progn
	(shell-command (format "javac %s" $fname) $outBuffer )
	(shell-command (format "java %s" (file-name-sans-extension
					  (file-name-nondirectory $fname))) $outBuffer )))
     (t (if $progName
	    (progn
	      (message "Running")
	      (shell-command $cmdStr $outBuffer ))
	  (error "No recognized program file suffix for this file."))))
    (run-hooks 'xah-run-current-file-after-hook)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org94525d2" class="outline-3">
<h3 id="org94525d2"><span class="section-number-3">6.10</span> Telega</h3>
<div class="outline-text-3" id="text-6-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'telega)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf6c0758" class="outline-3">
<h3 id="orgf6c0758"><span class="section-number-3">6.11</span> Projectile</h3>
<div class="outline-text-3" id="text-6-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'projectile)
(straight-use-package 'counsel-projectile )

(use-package projectile
  :diminish projectile-mode
  :config (projectile-mode)
  :custom ((projectile-completion-system 'ivy))
  :bind-keymap
  ("C-c p" . projectile-command-map)
  :init
  ;; NOTE: Set this to the folder where you keep your Git repos!
  (when (file-directory-p "~/Projects/Code")
    (setq projectile-project-search-path '("~/Projects/Code")))
  (setq projectile-switch-project-action #'projectile-dired))

(use-package counsel-projectile
  :config (counsel-projectile-mode))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org53a4910" class="outline-2">
<h2 id="org53a4910"><span class="section-number-2">7</span> Languages</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org02017cf" class="outline-3">
<h3 id="org02017cf"><span class="section-number-3">7.1</span> Rust</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'rust-mode)
(use-package rust-mode
  :custom (lsp-rust-server 'rust-analyzer)
  :hook (rust-mode . lsp))
</pre>
</div>
</div>
</div>
<div id="outline-container-org42ae019" class="outline-3">
<h3 id="org42ae019"><span class="section-number-3">7.2</span> Go</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'go-mode)
(use-package rust-mode
  :hook (go-mode . lsp))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd21dbd4" class="outline-2">
<h2 id="orgd21dbd4"><span class="section-number-2">8</span> Exwm</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(if (string= (system-name) "KeaiGuixMi")
    (load-file "~/.emacs.d/etc/init-exwm.el"))
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2020-10-13 Tue 00:00</p>
<p class="author">Author: keke</p>
<p class="date">Created: 2020-10-28 Wed 16:14</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
