<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-06-03 Wed 14:53 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>我的Emacs配置</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="keke" />
<link rel="stylesheet" type="text/css" href="css/m-dark.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,400i,600%7CSource+Sans+Pro:400,400i,600&amp;subset=latin-ext" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">我的Emacs配置</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgcc8f8ec">1. Preview</a></li>
<li><a href="#org41d9f97">2. Is A?</a></li>
<li><a href="#orgded7769">3. 初始化 straight.el 插件管理</a></li>
<li><a href="#orga62e605">4. 预下载基础包</a></li>
<li><a href="#org4c3baab">5. 载入启动界面</a></li>
<li><a href="#orgeb389bf">6. 主程序的一些设置</a>
<ul>
<li><a href="#org5a71b3c">6.1. UI</a></li>
<li><a href="#org365ccf0">6.2. 透明度</a></li>
<li><a href="#orgede5c3b">6.3. 默认功能设置</a></li>
<li><a href="#org4068135">6.4. 字体</a>
<ul>
<li><a href="#org118297d">6.4.1. doom-modeline</a></li>
<li><a href="#orge56e615">6.4.2. doom-themes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orga74be1a">7. 包的配置</a>
<ul>
<li><a href="#org47cb16d">7.1. yasnippet</a></li>
<li><a href="#org65ea68c">7.2. company</a></li>
<li><a href="#org4ed15a3">7.3. IVY all</a></li>
<li><a href="#orgc43ad0a">7.4. magit</a></li>
<li><a href="#org7154050">7.5. rime</a></li>
<li><a href="#orgaad7027">7.6. nox</a></li>
<li><a href="#org75cabd4">7.7. meow</a></li>
</ul>
</li>
<li><a href="#org887cac8">8. Org-mode</a></li>
<li><a href="#orgffc0914">9. 键位配置</a></li>
<li><a href="#org76bbe96">10. 一些好用的函数</a>
<ul>
<li><a href="#orgb4cb3fc">10.1. keke-run-current-file</a></li>
<li><a href="#org3c38278">10.2. keke-html-open-in-chrome-browser</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgcc8f8ec" class="outline-2">
<h2 id="orgcc8f8ec"><span class="section-number-2">1</span> Preview</h2>
<div class="outline-text-2" id="text-1">
<p>
<img src="https://s1.ax1x.com/2020/03/29/GVOav9.png" alt="GVOav9.png" />
<img src="https://s1.ax1x.com/2020/03/29/GVON34.png" alt="GVON34.png" />
</p>
</div>
</div>
<div id="outline-container-org41d9f97" class="outline-2">
<h2 id="org41d9f97"><span class="section-number-2">2</span> Is A?</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #F92660;">defconst</span> <span style="color: #F8F8F2;">*is-a-mac*</span> (eq system-type 'darwin))
(<span style="color: #F92660;">defconst</span> <span style="color: #F8F8F2;">*is-a-linux*</span> (eq system-type 'gnu/linux))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgded7769" class="outline-2">
<h2 id="orgded7769"><span class="section-number-2">3</span> 初始化 straight.el 插件管理</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #F92660;">defvar</span> <span style="color: #F8F8F2;">bootstrap-version</span>)
(<span style="color: #F92660;">let</span> ((bootstrap-file
       (expand-file-name <span style="color: #E6DB74;">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory))
      (bootstrap-version 5))
  (<span style="color: #F92660;">unless</span> (file-exists-p bootstrap-file)
    (<span style="color: #F92660;">with-current-buffer</span>
        (url-retrieve-synchronously
         <span style="color: #E6DB74;">"https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))
</pre>
</div>
</div>
</div>
<div id="outline-container-orga62e605" class="outline-2">
<h2 id="orga62e605"><span class="section-number-2">4</span> 预下载基础包</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'use-package)
(straight-use-package 'posframe)
(straight-use-package 'vterm)
(straight-use-package 'htmlize)
</pre>
</div>
</div>
</div>
<div id="outline-container-org4c3baab" class="outline-2">
<h2 id="org4c3baab"><span class="section-number-2">5</span> 载入启动界面</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'dashboard)
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">dashboard</span>
  <span style="color: #FD971F;">:config</span>
  (dashboard-setup-startup-hook)
  (<span style="color: #F92660;">setq</span> dashboard-banner-logo-title <span style="color: #E6DB74;">";;; Happy Hacking Keke , Emacs Love You ~"</span>)
<span style="color: #555556; font-style: italic;">;;  </span><span style="color: #555556; font-style: italic;">(setq dashboard-startup-banner "~/.emacs.d/logo.png")</span>
  (<span style="color: #F92660;">setq</span> dashboard-set-heading-icons t)
  (<span style="color: #F92660;">setq</span> dashboard-items '((recents  . 5)
                        (agenda . 5)))
  (<span style="color: #F92660;">setq</span> dashboard-set-file-icons t))

</pre>
</div>
</div>
</div>
<div id="outline-container-orgeb389bf" class="outline-2">
<h2 id="orgeb389bf"><span class="section-number-2">6</span> 主程序的一些设置</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org5a71b3c" class="outline-3">
<h3 id="org5a71b3c"><span class="section-number-3">6.1</span> UI</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"> (menu-bar-mode -1)
 (tool-bar-mode -1)
 (scroll-bar-mode -1)
 (global-linum-mode 1)
<span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">(setq inhibit-startup-message t)</span>
 (global-hl-line-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org365ccf0" class="outline-3">
<h3 id="org365ccf0"><span class="section-number-3">6.2</span> 透明度</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'default-frame-alist'(ns-transparent-titlebar . t))
(add-to-list 'default-frame-alist'(ns-appearance . dark))
(add-to-list 'default-frame-alist'(alpha . (80 . 75)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgede5c3b" class="outline-3">
<h3 id="orgede5c3b"><span class="section-number-3">6.3</span> 默认功能设置</h3>
<div class="outline-text-3" id="text-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">&#33258;&#21160;&#21152;&#36733;&#22806;&#37096;&#20462;&#25913;&#36807;&#30340;&#25991;&#20214;</span>
(global-auto-revert-mode 1)
<span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">&#20851;&#38381;&#33258;&#24049;&#29983;&#20135;&#30340;&#20445;&#23384;&#25991;&#20214;</span>
(<span style="color: #F92660;">setq</span> auto-save-default nil)
<span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">&#20851;&#38381;&#33258;&#24049;&#29983;&#20135;&#30340;&#22791;&#20221;&#25991;&#20214;</span>
(<span style="color: #F92660;">setq</span> make-backup-files nil)
<span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">&#36873;&#20013;&#26576;&#20010;&#21306;&#22495;&#32487;&#32493;&#32534;&#36753;&#21487;&#20197;&#26367;&#25442;&#25481;&#35813;&#21306;&#22495;</span>
(delete-selection-mode 1)
<span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">&#35774;&#32622;h &#25991;&#20214;&#40664;&#35748;&#20026;c++&#25991;&#20214;</span>
(add-to-list 'auto-mode-alist '(<span style="color: #E6DB74;">"\\.h\\'"</span> . c++-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-org4068135" class="outline-3">
<h3 id="org4068135"><span class="section-number-3">6.4</span> 字体</h3>
<div class="outline-text-3" id="text-6-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #F92660;">when</span> *is-a-mac*
(set-frame-font <span style="color: #E6DB74;">"Operator Mono 16"</span>))
(<span style="color: #F92660;">when</span> *is-a-linux*
  (set-frame-font <span style="color: #E6DB74;">"Operator Mono Light 10"</span>))
(<span style="color: #F92660;">if</span> (version&lt; <span style="color: #E6DB74;">"27.0"</span> emacs-version)
           (set-fontset-font
            <span style="color: #E6DB74;">"fontset-default"</span> 'unicode <span style="color: #E6DB74;">"Noto Color Emoji"</span> nil 'prepend)
         (set-fontset-font
          t 'symbol (font-spec <span style="color: #FD971F;">:family</span> <span style="color: #E6DB74;">"Noto Color Emoji"</span>) nil 'prepend))
</pre>
</div>
</div>
<div id="outline-container-org118297d" class="outline-4">
<h4 id="org118297d"><span class="section-number-4">6.4.1</span> doom-modeline</h4>
<div class="outline-text-4" id="text-6-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'doom-modeline)
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">doom-modeline</span>
  <span style="color: #FD971F;">:init</span> (doom-modeline-mode 1))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge56e615" class="outline-4">
<h4 id="orge56e615"><span class="section-number-4">6.4.2</span> doom-themes</h4>
<div class="outline-text-4" id="text-6-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'doom-themes)
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">doom-themes</span>
  <span style="color: #FD971F;">:config</span>
  <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">Global settings (defaults)</span>
  (<span style="color: #F92660;">setq</span> doom-themes-enable-bold t    <span style="color: #555556; font-style: italic;">; </span><span style="color: #555556; font-style: italic;">if nil, bold is universally disabled</span>
        doom-themes-enable-italic t) <span style="color: #555556; font-style: italic;">; </span><span style="color: #555556; font-style: italic;">if nil, italics is universally disabled</span>
  (load-theme 'doom-monokai-classic t)

  <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">Enable flashing mode-line on errors</span>
  (doom-themes-visual-bell-config)

  <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">Enable custom neotree theme (all-the-icons must be installed!)</span>
  (doom-themes-neotree-config)
  <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">or for treemacs users</span>
  (<span style="color: #F92660;">setq</span> doom-themes-treemacs-theme <span style="color: #E6DB74;">"doom-colors"</span>) <span style="color: #555556; font-style: italic;">; </span><span style="color: #555556; font-style: italic;">use the colorful treemacs theme</span>
  (doom-themes-treemacs-config)

  <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">Corrects (and improves) org-mode's native fontification.</span>
  (doom-themes-org-config))
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orga74be1a" class="outline-2">
<h2 id="orga74be1a"><span class="section-number-2">7</span> 包的配置</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org47cb16d" class="outline-3">
<h3 id="org47cb16d"><span class="section-number-3">7.1</span> yasnippet</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'yasnippet)
(straight-use-package 'yasnippet-snippets)
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">yasnippet</span>
  <span style="color: #FD971F;">:commands</span>
  (yas-reload-all)
  <span style="color: #FD971F;">:init</span>
  (add-hook 'prog-mode-hook #'yas-minor-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-org65ea68c" class="outline-3">
<h3 id="org65ea68c"><span class="section-number-3">7.2</span> company</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'company)
(<span style="color: #F92660;">use-package</span> 
  company 
  <span style="color: #FD971F;">:defer</span> 2 
  <span style="color: #FD971F;">:hook</span> (after-init . global-company-mode) 
  <span style="color: #FD971F;">:init</span> (<span style="color: #F92660;">setq</span> company-tooltip-align-annotations t company-idle-delay 0 company-echo-delay 0
              company-minimum-prefix-length 1 company-require-match nil company-dabbrev-ignore-case
              nil company-dabbrev-downcase nil company-show-numbers t) 
  <span style="color: #FD971F;">:config</span> 
  <span style="color: #FD971F;">:bind</span> (<span style="color: #FD971F;">:map</span> company-active-map
              (<span style="color: #E6DB74;">"M-n"</span> . nil) 
              (<span style="color: #E6DB74;">"M-p"</span> . nil) 
              (<span style="color: #E6DB74;">"C-n"</span> . #'company-select-next) 
              (<span style="color: #E6DB74;">"C-p"</span> . #'company-select-previous)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ed15a3" class="outline-3">
<h3 id="org4ed15a3"><span class="section-number-3">7.3</span> IVY all</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'ivy)
(straight-use-package 'counsel)
(straight-use-package 'swiper)
(straight-use-package 'all-the-icons-ivy-rich)
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">ivy</span>
  <span style="color: #FD971F;">:init</span>
  (ivy-mode 1)
  (<span style="color: #F92660;">setq</span> ivy-use-virtual-buffers t)
  (<span style="color: #F92660;">setq</span> enable-recursive-minibuffers t))
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">all-the-icons-ivy-rich</span>
  <span style="color: #FD971F;">:init</span> (all-the-icons-ivy-rich-mode 1))
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">ivy-rich</span>
  <span style="color: #FD971F;">:init</span> (ivy-rich-mode 1))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc43ad0a" class="outline-3">
<h3 id="orgc43ad0a"><span class="section-number-3">7.4</span> magit</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'magit)
</pre>
</div>
</div>
</div>
<div id="outline-container-org7154050" class="outline-3">
<h3 id="org7154050"><span class="section-number-3">7.5</span> rime</h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">rime</span>
             <span style="color: #FD971F;">:straight</span> (rime <span style="color: #FD971F;">:type</span> git
                             <span style="color: #FD971F;">:host</span> github
                             <span style="color: #FD971F;">:repo</span> <span style="color: #E6DB74;">"DogLooksGood/emacs-rime"</span>
                             <span style="color: #FD971F;">:files</span> (<span style="color: #E6DB74;">"*.el"</span> <span style="color: #E6DB74;">"Makefile"</span> <span style="color: #E6DB74;">"lib.c"</span>))
             <span style="color: #FD971F;">:custom</span>
             (rime-show-candidate 'posframe)
             (default-input-method <span style="color: #E6DB74;">"rime"</span>))
(<span style="color: #F92660;">when</span> *is-a-mac*
  (<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">rime</span>
               <span style="color: #FD971F;">:custom</span>
               (rime-librime-root <span style="color: #E6DB74;">"~/.emacs.d/librime/dist"</span>)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgaad7027" class="outline-3">
<h3 id="orgaad7027"><span class="section-number-3">7.6</span> nox</h3>
<div class="outline-text-3" id="text-7-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #E6DB74;">"~/.emacs.d/nox/"</span>)
(<span style="color: #F92660;">require</span> '<span style="color: #9C91E4;">nox</span>)
(<span style="color: #F92660;">dolist</span> (hook (list
               'js-mode-hook
               'rust-mode-hook
               'python-mode-hook
               'ruby-mode-hook
               'java-mode-hook
               'sh-mode-hook
               'php-mode-hook
               'c-mode-common-hook
               'c-mode-hook
               'c++-mode-hook
               'haskell-mode-hook
               ))
  (add-hook hook '(lambda () (nox-ensure))))
</pre>
</div>
</div>
</div>
<div id="outline-container-org75cabd4" class="outline-3">
<h3 id="org75cabd4"><span class="section-number-3">7.7</span> meow</h3>
<div class="outline-text-3" id="text-7-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'meow)
(<span style="color: #F92660;">use-package</span> <span style="color: #9C91E4;">meow</span>
  <span style="color: #FD971F;">:init</span>
  (meow-global-mode 1)
  <span style="color: #FD971F;">:custom</span>
  <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">layout options: qwerty, dvorak, dvp, colemak</span>
  (meow-layout 'qwerty)
  <span style="color: #FD971F;">:config</span>
  (meow-leader-define-key
 '(<span style="color: #E6DB74;">"r"</span> . keke-run-current-file)
 '(<span style="color: #E6DB74;">"k"</span> . kill-buffer)
 '(<span style="color: #E6DB74;">"l"</span> . goto-line)
 '(<span style="color: #E6DB74;">"h"</span> . other-window)
 '(<span style="color: #E6DB74;">"o"</span> . delete-other-windows)
 '(<span style="color: #E6DB74;">"-"</span> . split-window-below)
 '(<span style="color: #E6DB74;">"/"</span> . swiper)
 '(<span style="color: #E6DB74;">"\\"</span> . split-window-right)
 '(<span style="color: #E6DB74;">"m"</span> . magit-status)
 '(<span style="color: #E6DB74;">"f"</span> . counsel-find-file)
 '(<span style="color: #E6DB74;">"F"</span> . find-file-literally))

(meow-leader-define-mode-key
 'emacs-lisp-mode
 '(<span style="color: #E6DB74;">"RET"</span> . eval-buffer)
 '(<span style="color: #E6DB74;">"SPC"</span> . eval-defun)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org887cac8" class="outline-2">
<h2 id="org887cac8"><span class="section-number-2">8</span> Org-mode</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'org-mode-hook (<span style="color: #F92660;">lambda</span> () (<span style="color: #F92660;">setq</span> truncate-lines nil)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgffc0914" class="outline-2">
<h2 id="orgffc0914"><span class="section-number-2">9</span> 键位配置</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #E6DB74;">"C-c p"</span>) 'keke-run-current-file)
<span style="color: #555556; font-style: italic;">;;</span><span style="color: #555556; font-style: italic;">IVY</span>
(global-set-key <span style="color: #E6DB74;">"\C-s"</span> 'swiper)
(global-set-key (kbd <span style="color: #E6DB74;">"C-c C-r"</span>) 'ivy-resume)
(global-set-key (kbd <span style="color: #E6DB74;">"&lt;f6&gt;"</span>) 'ivy-resume)
(global-set-key (kbd <span style="color: #E6DB74;">"M-x"</span>) 'counsel-M-x)
(global-set-key (kbd <span style="color: #E6DB74;">"C-x C-f"</span>) 'counsel-find-file)
(global-set-key (kbd <span style="color: #E6DB74;">"&lt;f1&gt; f"</span>) 'counsel-describe-function)
(global-set-key (kbd <span style="color: #E6DB74;">"&lt;f1&gt; v"</span>) 'counsel-describe-variable)
(global-set-key (kbd <span style="color: #E6DB74;">"&lt;f1&gt; l"</span>) 'counsel-find-library)
(global-set-key (kbd <span style="color: #E6DB74;">"&lt;f2&gt; i"</span>) 'counsel-info-lookup-symbol)
(global-set-key (kbd <span style="color: #E6DB74;">"&lt;f2&gt; u"</span>) 'counsel-unicode-char)
(global-set-key (kbd <span style="color: #E6DB74;">"C-c g"</span>) 'counsel-git)
(global-set-key (kbd <span style="color: #E6DB74;">"C-c j"</span>) 'counsel-git-grep)
(global-set-key (kbd <span style="color: #E6DB74;">"C-c k"</span>) 'counsel-ag)
(global-set-key (kbd <span style="color: #E6DB74;">"C-x l"</span>) 'counsel-locate)
(global-set-key (kbd <span style="color: #E6DB74;">"C-S-o"</span>) 'counsel-rhythmbox)
(define-key minibuffer-local-map (kbd <span style="color: #E6DB74;">"C-r"</span>) 'counsel-minibuffer-history)
</pre>
</div>
</div>
</div>
<div id="outline-container-org76bbe96" class="outline-2">
<h2 id="org76bbe96"><span class="section-number-2">10</span> 一些好用的函数</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orgb4cb3fc" class="outline-3">
<h3 id="orgb4cb3fc"><span class="section-number-3">10.1</span> keke-run-current-file</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #F92660;">defvar</span> <span style="color: #F8F8F2;">keke-run-current-file-before-hook</span> nil <span style="color: #7f7f80; font-style: italic;">"Hook for `</span><span style="color: #9C91E4; font-style: italic;">keke-run-current-file</span><span style="color: #7f7f80; font-style: italic;">'. Before the file is run."</span>)
(<span style="color: #F92660;">defvar</span> <span style="color: #F8F8F2;">keke-run-current-file-after-hook</span> nil <span style="color: #7f7f80; font-style: italic;">"Hook for `</span><span style="color: #9C91E4; font-style: italic;">keke-run-current-file</span><span style="color: #7f7f80; font-style: italic;">'. After the file is run."</span>)
(<span style="color: #F92660;">defun</span> <span style="color: #A6E22E;">keke-run-current-file</span> ()
  (<span style="color: #F92660;">interactive</span>)
  (<span style="color: #F92660;">let</span> (
        ($outputb <span style="color: #E6DB74;">"*keke-run output*"</span>)
        (resize-mini-windows nil)
        ($suffix-map
         `(
           (<span style="color: #E6DB74;">"ts"</span> . <span style="color: #E6DB74;">"node"</span>)
           (<span style="color: #E6DB74;">"py"</span> . <span style="color: #E6DB74;">"python"</span>)
           (<span style="color: #E6DB74;">"html"</span> . <span style="color: #E6DB74;">"firefox"</span>)
           ))
           $fname
           $fSuffix
           $prog-name
           $cmd-str)
         (<span style="color: #F92660;">when</span> (not (buffer-file-name)) (save-buffer))
         (<span style="color: #F92660;">when</span> (buffer-modified-p) (save-buffer))
         (<span style="color: #F92660;">setq</span> $fname (buffer-file-name))
         (<span style="color: #F92660;">setq</span> $fSuffix (file-name-extension $fname))
         (<span style="color: #F92660;">setq</span> $prog-name (cdr (assoc $fSuffix $suffix-map)))
         (<span style="color: #F92660;">setq</span> $cmd-str (concat $prog-name <span style="color: #E6DB74;">" \""</span>   $fname <span style="color: #E6DB74;">"\" &amp;"</span>))
         (run-hooks 'keke-run-current-file-before-hook)
         (<span style="color: #F92660;">if</span> $prog-name
             (<span style="color: #F92660;">progn</span>
               (message <span style="color: #E6DB74;">"Running"</span>)
               (shell-command $cmd-str $outputb ))
           (<span style="color: #E6DB74;">error</span> <span style="color: #E6DB74;">"No recognized program file suffix for this file."</span>))))
(run-hooks 'keke-run-current-file-after-hook)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3c38278" class="outline-3">
<h3 id="org3c38278"><span class="section-number-3">10.2</span> keke-html-open-in-chrome-browser</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #F92660;">defun</span> <span style="color: #A6E22E;">keke-html-open-in-chrome-browser</span> ()
  <span style="color: #7f7f80; font-style: italic;">"Open the current file or `</span><span style="color: #9C91E4; font-style: italic;">dired</span><span style="color: #7f7f80; font-style: italic;">' marked files in Google Chrome browser.</span>
<span style="color: #7f7f80; font-style: italic;">Work in Windows, macOS, linux.</span>
<span style="color: #7f7f80; font-style: italic;">URL `</span><span style="color: #9C91E4; font-style: italic;">http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html</span><span style="color: #7f7f80; font-style: italic;">'</span>
<span style="color: #7f7f80; font-style: italic;">Version 2019-11-10"</span>
  (<span style="color: #F92660;">interactive</span>)
  (<span style="color: #F92660;">let*</span> (
         ($file-list
          (<span style="color: #F92660;">if</span> (string-equal major-mode <span style="color: #E6DB74;">"dired-mode"</span>)
              (dired-get-marked-files)
            (list (buffer-file-name))))
         ($do-it-p (<span style="color: #F92660;">if</span> (&lt;= (length $file-list) 5)
                       t
                     (y-or-n-p <span style="color: #E6DB74;">"Open more than 5 files? "</span>))))
    (<span style="color: #F92660;">when</span> $do-it-p
      (<span style="color: #F92660;">cond</span>
       ((string-equal system-type <span style="color: #E6DB74;">"darwin"</span>)
        (mapc
         (<span style="color: #F92660;">lambda</span> ($fpath)
           (shell-command
            (format <span style="color: #E6DB74;">"open -a /Applications/Google\\ Chrome.app \"%s\""</span> $fpath)))
         $file-list))
       ((string-equal system-type <span style="color: #E6DB74;">"windows-nt"</span>)
        <span style="color: #555556; font-style: italic;">;; </span><span style="color: #555556; font-style: italic;">"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" 2019-11-09</span>
        (<span style="color: #F92660;">let</span> ((process-connection-type nil))
          (mapc
           (<span style="color: #F92660;">lambda</span> ($fpath)
             (start-process <span style="color: #E6DB74;">""</span> nil <span style="color: #E6DB74;">"powershell"</span> <span style="color: #E6DB74;">"start-process"</span> <span style="color: #E6DB74;">"chrome"</span> $fpath ))
           $file-list)))
       ((string-equal system-type <span style="color: #E6DB74;">"gnu/linux"</span>)
        (mapc
         (<span style="color: #F92660;">lambda</span> ($fpath)
           (shell-command (format <span style="color: #E6DB74;">"qutebrowser \"%s\""</span> $fpath)))
         $file-list))))))
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2020-04-17 Fri 00:00</p>
<p class="author">Author: keke</p>
<p class="date">Created: 2020-06-03 Wed 14:53</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 27.0.91 (<a href="https://orgmode.org">Org</a> mode 9.3)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
